# IoT_capstone_design
 
<h1><b>1. 프로젝트 개요</b></h1>
신종 코로나 바이러스 예방을 위해 건물 입구에서 방문객의 학교 재학생 여부를 판단 및 체온 측정을 하고 문진표를 작성하는 등에 필요한 추가 인력을 무인 시스템으로 전환하고, 자동으로 데이터화 하기 위한 프로젝트 입니다.
<br>
<hr>
<h1><b>2. 코드 설명 </b></h1>

<h2><b>imageProcessing :</b></h2><br>
<img src="https://user-images.githubusercontent.com/52819424/86149218-a4754b80-bb36-11ea-9f36-bbfdb5377b1e.png">
1. 방문자의 학생증 바코드를 카메라로 스캔하여 한성대학교 재학생 여부를 판단합니다.<br>
2. 마스크 착용/미착용 사진을 학습하여 모델을 만들고 이 모델을 이용하여 방문자의 마스크 착용 유무를 판단합니다. (카메라를 통해 방문자의 이미지 판단)<br>
3. 재학생 여부 및 학번, 마스크 착용 유무를 아두이노로 보내줍니다.<br><br>

<h3><b>함수</b></h3><br>
<b>audio(n) : </b><br>
 방문자에게 사용방법을 음성으로 알려줍니다.<hr>
<b>studentId() :</b><br>
 1. 현재 한성대학교 재학생의 학번 목록을 불러옵니다. (구현을 위해 프로젝트를 진행한 세명의 학번 정보를 불러옴)<br>
 2. 캠이 켜져있는지 확인하고 바코드를 인식합니다.<br>
 3. 사용자가 키보드를 통해 x를 입력하면 exit_code()함수를 실행시켜 프로그램을 종료합니다.<br>
<b>capture(camid=0) :</b><br>
 1. 방문자의 이미지를 촬영하고 지정한 경로에 이미지를 저장합니다.<br>
 2. 사용자가 키보드를 통해 x를 입력하면 exit_code()함수를 실행시켜 프로그램을 종료합니다.<br>
<b>image_reult(): </b><br>
 1. categories 배열에 O, X 를 저장하여 이미지 분류 태그로 사용합니다.<br>
 2. <b>capture</b>함수에서 저장한 이미지 경로를 통해 jpg 파일을 찾습니다.<br>
 3. 마스크 착용 여부를 학습해 놓은 모델(kyung_zzu.h5)로 방문자의 마스크 착용여부를 판단합니다.<br>
<b> arduino(barcod_data,image_data) : </b><br>
 1. 아두이노와 같은 PORT번호를 지정하여 재학생 학번과 마스크 착용여부를 아두이노로 보내줍니다.<br>

<h2><b>Arduino :</b></h2><br>
<img src="https://user-images.githubusercontent.com/52819424/86149409-e1d9d900-bb36-11ea-8496-00287fa0d7f1.png">
 1. 온도센서를 통해 방문자의 체온을 측정합니다.<br>
 2. 체온을 <b>imageProcessing</b> 에서 받아온 재학생 정보와 마스크 착용 유무 값과 함께 AWS DB에 올려줍니다.<br><br>

<h2><b>adminAndroid :</b></h2> 관리자가 사용하는 안드로이드 앱 입니다.
<img src="https://user-images.githubusercontent.com/52819424/86145920-83126080-bb32-11ea-9334-2d225986b894.JPG">
 1. 허가 받은 관리자 계정으로 로그인을 하면 최근 방문자의 사진 및 학번, 체온, 마스크 착용여부를 확인할 수 있습니다.<br>
 2. 기간별 조회를 통해 이전 방문자들과 시간, 날짜 별로 데이터를 확인할 수 있습니다.<br>
 3. 알림버튼을 ON으로 설정해 두어 방문자의 체온이 37도 이상이면 알림을 주어 방문자를 직접 확인하도록 합니다. (알림은 ON/OFF 로 설정가능합니다.)<br>
